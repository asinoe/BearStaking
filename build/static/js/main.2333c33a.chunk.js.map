{"version":3,"sources":["theme/index.ts","components/Identicon.tsx","components/ConnectButton.tsx","components/AccountModal.tsx","components/Header/Header.js","config/token.ts","utils/addressHelper.ts","utils/getRpcUrl.ts","hooks/useContracts.ts","utils/useWeb3.ts","utils/callHelper.ts","contexts/RefreshContext.tsx","utils/useRefresh.ts","utils/formatBalance.ts","views/Home/components/Auctions.tsx","views/Home/index.tsx","App.tsx","index.tsx"],"names":["extendTheme","fonts","heading","body","StyledIdenticon","styled","div","Identicon","ref","useRef","account","useEthers","useEffect","current","innerHTML","appendChild","Jazzicon","parseInt","slice","ConnectButton","handleOpenModal","activateBrowserWallet","etherBalance","useEtherBalance","display","alignItems","background","borderRadius","py","px","color","fontSize","parseFloat","formatEther","toFixed","onClick","bg","border","_hover","borderStyle","borderColor","backgroundColor","m","height","fontWeight","mr","length","_active","AccountModal","isOpen","onClose","deactivate","isCentered","size","style","paddingTop","paddingBottom","pt","pb","mb","justifyContent","variant","textDecoration","mt","lineHeight","ml","alignContent","Copy","href","isExternal","ExternalLink","borderBottomLeftRadius","borderBottomRightRadius","p","textAlign","Header","useDisclosure","onOpen","id","data-aos","data-aos-delay","className","flexWrap","src","alt","flex","marginTop","Address","staking","1","4","ape","variable","getStakingAddress","addresses","getRpcUrl","useContract","abi","add","Web3","givenProvider","providers","HttpProvider","eth","Contract","useApeContract","setApprovalForAll","apeContract","stakingContract","approved","a","methods","options","address","send","from","stake","tokenIds","unstake","claim","RefreshContext","React","createContext","slow","fast","RefreshContextProvider","children","useState","setSlow","setFast","isBrowserTabActiveRef","onVisibilityChange","document","hidden","window","addEventListener","removeEventListener","useIsBrowserTabActive","interval","setInterval","prev","clearInterval","Provider","value","useRefresh","useContext","fastRefresh","slowRefresh","getFullDisplayBalance","balance","decimals","dividedBy","BigNumber","pow","initStakedInfo","metadatas","initUnStakedInfo","space","Auctions","requestedApproval","setRequestedApproval","isApproved","setIsApproved","stakingAddress","fetchFlag","setFetchFlag","redraw","setRedraw","unstakedinfo","setUnStakedInfo","stakedinfo","setStakedInfo","reward","setReward","selectedUnStakedTokenIds","setSelectedUnStakedTokenIds","selectedStakedTokenIds","setSelectedStakedTokenIds","fetchReward","pendingTotalReward","call","result","fetchIsApprovedForAll","isApprovedForAll","isApp","fetchUnStakedInfo","balanceOf","a1","tokenOfOwnerByIndex","tokenId","tokenURI","metadata","getImageHash","image","push","unstaked","fetchStakedInfo","stakingAmount","userInfo","tokenInfo","staked","IsSelected","type","list","removeItemFromArray","oldlist","i","pop","unstakedImageClick","index","console","log","newlist","newlist1","stakedImageClick","handleStake","handleClaim","handleUnStake","hashVal","fetch","response","json","responseJson","error","padding","fontFamily","map","idx","isSelected","marginLeft","marginRight","width","disabled","minHeight","toString","Home","Component","App","theme","ReactDOM","render","StrictMode","DAppProvider","config","getElementById"],"mappings":"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","file":"static/js/main.2333c33a.chunk.js","sourcesContent":["import { extendTheme } from \"@chakra-ui/react\";\r\n\r\nexport default extendTheme({\r\n  fonts: {\r\n    heading: \"Inter\",\r\n    body: \"Inter\",\r\n  },\r\n});\r\n","import { useEffect, useRef } from \"react\";\r\nimport { useEthers } from \"@usedapp/core\";\r\nimport Jazzicon from \"@metamask/jazzicon\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst StyledIdenticon = styled.div`\r\n  height: 1rem;\r\n  width: 1rem;\r\n  border-radius: 1.125rem;\r\n  background-color: black;\r\n`;\r\n\r\nexport default function Identicon() {\r\n  const ref = useRef<HTMLDivElement>();\r\n  const { account } = useEthers();\r\n\r\n  useEffect(() => {\r\n    if (account && ref.current) {\r\n      ref.current.innerHTML = \"\";\r\n      ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)));\r\n    }\r\n  }, [account]);\r\n\r\n  return <StyledIdenticon ref={ref as any} />;\r\n}\r\n","import { Button, Box, Text } from \"@chakra-ui/react\";\r\nimport { useEthers, useEtherBalance } from \"@usedapp/core\";\r\nimport { formatEther } from \"@ethersproject/units\";\r\nimport Identicon from \"./Identicon\";\r\n\r\ntype Props = {\r\n  handleOpenModal: any;\r\n};\r\n\r\nexport default function ConnectButton({ handleOpenModal }: Props) {\r\n  const { activateBrowserWallet, account } = useEthers();\r\n  const etherBalance = useEtherBalance(account);\r\n\r\n  function handleConnectWallet() {\r\n    activateBrowserWallet();\r\n  }\r\n\r\n  return account ? (\r\n    <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      background=\"white\"\r\n      borderRadius=\"xl\"\r\n      py=\"0\"\r\n    >\r\n      <Box px=\"3\">\r\n        <Text color=\"black\" fontSize=\"md\">\r\n          {etherBalance && parseFloat(formatEther(etherBalance)).toFixed(3)} ETH\r\n        </Text>\r\n      </Box>\r\n      <Button\r\n        onClick={handleOpenModal}\r\n        bg=\"gray.800\"\r\n        border=\"1px solid transparent\"\r\n        _hover={{\r\n          border: \"1px\",\r\n          borderStyle: \"solid\",\r\n          borderColor: \"blue.400\",\r\n          backgroundColor: \"gray.700\",\r\n        }}\r\n        borderRadius=\"xl\"\r\n        m=\"1px\"\r\n        px={3}\r\n        height=\"38px\"\r\n      >\r\n        <Text color=\"white\" fontSize=\"md\" fontWeight=\"medium\" mr=\"2\">\r\n          {account &&\r\n            `${account.slice(0, 6)}...${account.slice(\r\n              account.length - 4,\r\n              account.length\r\n            )}`}\r\n        </Text>\r\n        <Identicon />\r\n      </Button>\r\n    </Box>\r\n  ) : (\r\n    <Button\r\n      onClick={handleConnectWallet}\r\n      // bg=\"blue.800\"\r\n      color=\"black\"\r\n      fontSize=\"lg\"\r\n      fontWeight=\"medium\"\r\n      borderRadius=\"xl\"\r\n      //border=\"1px solid transparent\"\r\n      _hover={{\r\n        // borderColor: \"blue.700\",\r\n        //color: \"blue.400\",\r\n      }}\r\n      _active={{\r\n        // backgroundColor: \"whiteAlpha.100\",\r\n        //borderColor: \"blue.700\",\r\n      }}\r\n    >\r\n      Connect to a wallet\r\n    </Button>\r\n  );\r\n}\r\n","import { Box, Button, Flex, Link, Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton, Text } from \"@chakra-ui/react\";\r\nimport { ExternalLinkIcon, CopyIcon } from \"@chakra-ui/icons\";\r\nimport { useEthers } from \"@usedapp/core\";\r\nimport Identicon from \"./Identicon\";\r\n\r\ntype Props = {\r\n  isOpen: any;\r\n  onClose: any;\r\n};\r\n\r\nexport default function AccountModal({ isOpen, onClose }: Props) {\r\n  const { account, deactivate } = useEthers();\r\n\r\n  function handleDeactivateAccount() {\r\n    deactivate();\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} isCentered size=\"md\">\r\n      <ModalOverlay />\r\n      <ModalContent\r\n        background=\"gray.900\"\r\n        border=\"1px\"\r\n        borderStyle=\"solid\"\r\n        borderColor=\"gray.700\"\r\n        borderRadius=\"3xl\"\r\n        style={{paddingTop: 30, paddingBottom: 0}}\r\n      >\r\n        <ModalHeader color=\"white\" px={4} fontSize=\"lg\" fontWeight=\"medium\">\r\n          Account\r\n        </ModalHeader>\r\n        <ModalCloseButton\r\n          color=\"white\"\r\n          fontSize=\"sm\"\r\n          _hover={{\r\n            color: \"whiteAlpha.700\",\r\n          }}\r\n        />\r\n        <ModalBody pt={0} px={4}>\r\n          <Box\r\n            borderRadius=\"3xl\"\r\n            border=\"1px\"\r\n            borderStyle=\"solid\"\r\n            borderColor=\"gray.600\"\r\n            px={5}\r\n            pt={4}\r\n            pb={2}\r\n            mb={3}\r\n          >\r\n            <Flex justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n              <Text color=\"gray.400\" fontSize=\"sm\">\r\n                Connected with MetaMask\r\n              </Text>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                borderColor=\"blue.800\"\r\n                borderRadius=\"3xl\"\r\n                color=\"blue.500\"\r\n                fontSize=\"13px\"\r\n                fontWeight=\"normal\"\r\n                px={2}\r\n                height=\"26px\"\r\n                _hover={{\r\n                  background: \"none\",\r\n                  borderColor: \"blue.300\",\r\n                  textDecoration: \"underline\",\r\n                }}\r\n                onClick={handleDeactivateAccount}\r\n              >\r\n                Change\r\n              </Button>\r\n            </Flex>\r\n            <Flex alignItems=\"center\" mt={2} mb={4} lineHeight={1}>\r\n              <Identicon />\r\n              <Text\r\n                color=\"white\"\r\n                fontSize=\"xl\"\r\n                fontWeight=\"semibold\"\r\n                ml=\"2\"\r\n                lineHeight=\"1.1\"\r\n              >\r\n                {account &&\r\n                  `${account.slice(0, 6)}...${account.slice(\r\n                    account.length - 4,\r\n                    account.length\r\n                  )}`}\r\n              </Text>\r\n            </Flex>\r\n            <Flex alignContent=\"center\" m={3}>\r\n              <Button\r\n                variant=\"link\"\r\n                color=\"gray.400\"\r\n                fontWeight=\"normal\"\r\n                fontSize=\"sm\"\r\n                _hover={{\r\n                  textDecoration: \"none\",\r\n                  color: \"whiteAlpha.800\",\r\n                }}\r\n              >\r\n                <CopyIcon mr={1} />\r\n                Copy Address\r\n              </Button>\r\n              <Link\r\n                fontSize=\"sm\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                href={`https://ropsten.etherscan.io/address/${account}`}\r\n                isExternal\r\n                color=\"gray.400\"\r\n                ml={6}\r\n                _hover={{\r\n                  color: \"whiteAlpha.800\",\r\n                  textDecoration: \"underline\",\r\n                }}\r\n              >\r\n                <ExternalLinkIcon mr={1} />\r\n                View on Explorer\r\n              </Link>\r\n            </Flex>\r\n          </Box>\r\n        </ModalBody>\r\n\r\n        <ModalFooter\r\n          justifyContent=\"end\"\r\n          background=\"gray.700\"\r\n          borderBottomLeftRadius=\"3xl\"\r\n          borderBottomRightRadius=\"3xl\"\r\n          p={6}\r\n        >\r\n          <Text\r\n            color=\"white\"\r\n            textAlign=\"left\"\r\n            fontWeight=\"medium\"\r\n            fontSize=\"md\"\r\n          >\r\n            Your transactions willl appear here...\r\n          </Text>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDisclosure } from \"@chakra-ui/react\";\r\nimport ConnectButton from \"../ConnectButton\";\r\nimport AccountModal from \"../AccountModal\";\r\n\r\nconst Header = () => {\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n\r\n  return (\r\n    <header id=\"header container\" >\r\n      <nav data-aos=\"zoom-out\" data-aos-delay={800} className=\"\">\r\n      <div  style={{display:\"flex\", justifyContent:\"center\", alignItems:\"center\", flexWrap:\"wrap\"}}>\r\n        < a href='https://www.apeproject.io/' style={{height:\"100px\"}}>\r\n          <img className=\"\" style={{height:\"100%\"}} src=\"img/favicon.png\"  alt=\"sticky brand-logo\" />\r\n        </a>\r\n        <span style={{flex:\"1\"}}></span>           \r\n        <span className=\"\" style={{marginTop:20}}>\r\n          <ConnectButton  handleOpenModal={onOpen} />\r\n          <AccountModal isOpen={isOpen} onClose={onClose} />                    \r\n        </span>\r\n      </div>\r\n    </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","const Address = {\r\n  staking: {\r\n    1: \"0x3C01c6c58E61Ae5fFc0e603abd7ebe5d9d27D97a\",\r\n    4: \"0x3C01c6c58E61Ae5fFc0e603abd7ebe5d9d27D97a\",\r\n  },\r\n  ape: {\r\n    1: \"0x73Fd64FEED39ba564326Ac4327b90596a2056404\",\r\n    4: \"0x73Fd64FEED39ba564326Ac4327b90596a2056404\",\r\n  },\r\n  variable: {\r\n    1: \"0xAD93D504631feCA691d0a6EFed72f8344Ee72925\",\r\n    4: \"0xAD93D504631feCA691d0a6EFed72f8344Ee72925\",\r\n  },\r\n};\r\n\r\nexport default Address","import addresses from '../config/token'\r\n\r\nconst chainId = 4\r\n// const chainId = 1\r\n\r\nexport const getStakingAddress = () => {\r\n  return addresses.staking[chainId]\r\n}\r\n\r\nexport const getVariableAddress = () => {\r\n  return addresses.variable[chainId]\r\n}\r\n\r\nexport const getApeAddress = () => {\r\n  return addresses.ape[chainId]\r\n}\r\n","const getRpcUrl = () => {\r\n    return \"https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161\";\r\n    // return https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161\r\n  }\r\n  \r\n  export default getRpcUrl;","import {\r\n    getStakingAddress,\r\n    getApeAddress,\r\n    getVariableAddress,\r\n  } from \"../utils/addressHelper\";\r\n  import { useWeb3 } from \"../utils/useWeb3\";\r\n  \r\n  import staking from \"../config/abis/staking.json\";\r\n  import variable from \"../config/abis/variable.json\";\r\n  import ape from \"../config/abis/ape.json\";\r\n  \r\n  const useContract = (abi: any, add: any) => {\r\n    const web3 = useWeb3();\r\n    return new web3.eth.Contract(abi, add);\r\n  };\r\n  /**\r\n   * Helper hooks to get specific contracts (by ABI)\r\n   */\r\n  \r\n  export const useApeContract = () => {\r\n    return useContract(ape, getApeAddress());\r\n  };\r\n  \r\n  export const useStakingContract = () => {\r\n    return useContract(staking, getStakingAddress());\r\n  };\r\n  \r\n  export const useVariableContract = () => {\r\n    return useContract(variable, getVariableAddress());\r\n  };\r\n  \r\n  export default useContract;\r\n  ","import Web3 from \"web3\";\r\nimport getRpcUrl from \"./getRpcUrl\";\r\n\r\nexport const useWeb3 = () => {\r\n  return new Web3(Web3.givenProvider || new Web3.providers.HttpProvider(getRpcUrl()));\r\n};","export const setApprovalForAll = async (apeContract: any, stakingContract: any, account: any, approved: any) => {\r\n  return apeContract.methods\r\n    .setApprovalForAll(\r\n        stakingContract.options.address,\r\n        approved\r\n    )\r\n    .send({ from: account });\r\n};\r\n\r\nexport const approve = async (apeContract: any, stakingContract: any, account: any, tokenId: any) => {\r\n  return apeContract.methods\r\n    .approve(\r\n        stakingContract.options.address,\r\n        tokenId\r\n    )\r\n    .send({ from: account });\r\n};\r\n\r\nexport const stake = async (\r\n  stakingContract: any,\r\n  tokenIds: any,\r\n  account: any\r\n) => {\r\n  return stakingContract.methods\r\n    .stake(tokenIds)\r\n    .send({ from: account });\r\n};\r\n\r\nexport const unstake = async (stakingContract: any, tokenIds: any, account: any) => {\r\n  return stakingContract.methods.unstake(tokenIds).send({ from: account });\r\n};\r\n\r\nexport const claim = async (stakingContract: any, account: any) => {\r\n  return stakingContract.methods.claim().send({ from: account });\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nconst FAST_INTERVAL = 10000\r\nconst SLOW_INTERVAL = 60000\r\n\r\nconst RefreshContext = React.createContext({ slow: 0, fast: 0 })\r\n\r\n// Check if the tab is active in the user browser\r\nconst useIsBrowserTabActive = () => {\r\n  const isBrowserTabActiveRef = useRef(true)\r\n\r\n  useEffect(() => {\r\n    const onVisibilityChange = () => {\r\n      isBrowserTabActiveRef.current = !document.hidden\r\n    }\r\n\r\n    window.addEventListener('visibilitychange', onVisibilityChange)\r\n\r\n    return () => {\r\n      window.removeEventListener('visibilitychange', onVisibilityChange)\r\n    }\r\n  }, [])\r\n\r\n  return isBrowserTabActiveRef\r\n}\r\n\r\n// This context maintain 2 counters that can be used as a dependencies on other hooks to force a periodic refresh\r\nconst RefreshContextProvider = ({ children }: { children: any }) => {\r\n  const [slow, setSlow] = useState(0)\r\n  const [fast, setFast] = useState(0)\r\n  const isBrowserTabActiveRef = useIsBrowserTabActive()\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      if (isBrowserTabActiveRef.current) {\r\n        setFast((prev) => prev + 1)\r\n      }\r\n    }, FAST_INTERVAL)\r\n    return () => clearInterval(interval)\r\n  }, [isBrowserTabActiveRef])\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      if (isBrowserTabActiveRef.current) {\r\n        setSlow((prev) => prev + 1)\r\n      }\r\n    }, SLOW_INTERVAL)\r\n    return () => clearInterval(interval)\r\n  }, [isBrowserTabActiveRef])\r\n\r\n  return <RefreshContext.Provider value={{ slow, fast }}>{children}</RefreshContext.Provider>\r\n}\r\n\r\nexport { RefreshContext, RefreshContextProvider }\r\n","import { useContext } from 'react'\r\nimport { RefreshContext } from '../contexts/RefreshContext'\r\n\r\nconst useRefresh = () => {\r\n  const { fast, slow } = useContext(RefreshContext)\r\n  return { fastRefresh: fast, slowRefresh: slow }\r\n}\r\n\r\nexport default useRefresh\r\n","import BigNumber from \"bignumber.js\";\r\n\r\nexport const formatNumber = (num: any, decimalPlace: any) => {\r\n  if (num % 1 !== 0) return num.toFixed(decimalPlace);\r\n  return num;\r\n};\r\n\r\nexport const getBalanceNumber = (balance: any, decimals = 18) => {\r\n  const displayBalance = new BigNumber(balance).dividedBy(\r\n    new BigNumber(10).pow(decimals)\r\n  );\r\n\r\n  var num = displayBalance.toNumber();\r\n  return formatNumber(num, 3);\r\n};\r\n\r\nexport const getFullDisplayBalance = (balance: any, decimals = 18) => {\r\n  return balance.dividedBy(new BigNumber(10).pow(decimals)).toFixed();\r\n};\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { Fragment, useEffect, useState } from 'react'\r\nimport { useEthers } from '@usedapp/core'\r\nimport { StakedInfo, UnStakedInfo } from '../../../config/types'\r\nimport { useApeContract, useStakingContract } from '../../../hooks/useContracts'\r\nimport { claim, setApprovalForAll, stake, unstake } from '../../../utils/callHelper'\r\nimport { getStakingAddress } from '../../../utils/addressHelper'\r\nimport useRefresh from '../../../utils/useRefresh'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\n\r\nconst initStakedInfo: UnStakedInfo = {\r\n  balance: new BigNumber(0),\r\n  tokenIds: [],\r\n  metadatas: [],\r\n}\r\n\r\nconst initUnStakedInfo: StakedInfo = {\r\n  balance: new BigNumber(0),\r\n  tokenIds: [],\r\n  metadatas: [],\r\n}\r\n\r\nconst space = <Fragment>&nbsp;&nbsp;</Fragment>;\r\n\r\nconst Auctions = () => {\r\n  const { account } = useEthers()\r\n  const [requestedApproval, setRequestedApproval] = useState(false)\r\n  const [isApproved, setIsApproved] = useState(false)\r\n  const apeContract = useApeContract()\r\n  const stakingContract = useStakingContract()\r\n  const stakingAddress = getStakingAddress()\r\n\r\n  const { slowRefresh } = useRefresh()\r\n\r\n  const [fetchFlag, setFetchFlag] = useState(true)\r\n  const [redraw, setRedraw] = useState(false)\r\n\r\n  const [unstakedinfo, setUnStakedInfo] = useState<UnStakedInfo>()\r\n  const [stakedinfo, setStakedInfo] = useState<StakedInfo>()\r\n\r\n  const [reward, setReward] = useState(new BigNumber(0))\r\n\r\n  const [selectedUnStakedTokenIds, setSelectedUnStakedTokenIds] = useState<BigNumber[]>([])\r\n  const [selectedStakedTokenIds, setSelectedStakedTokenIds] = useState<BigNumber[]>([])\r\n\r\n  const fetchReward = async () => {\r\n    const result = await stakingContract.methods\r\n      .pendingTotalReward(account)\r\n      .call()\r\n    setReward(getFullDisplayBalance(new BigNumber(result)))\r\n  }\r\n\r\n  const fetchIsApprovedForAll = async () => {\r\n    const isApp = await apeContract.methods.isApprovedForAll(account, stakingAddress).call()\r\n    setIsApproved(isApp)\r\n  }\r\n\r\n  async function fetchUnStakedInfo() {\r\n    var result: UnStakedInfo = initUnStakedInfo\r\n    result.tokenIds = []\r\n    result.metadatas = []\r\n    const balance = await apeContract.methods.balanceOf(account).call()\r\n    let a1 = 0\r\n    for (a1 = 0; a1 < balance; a1++) {\r\n      const tokenId = await apeContract.methods\r\n        .tokenOfOwnerByIndex(account, a1)\r\n        .call()\r\n      const metadata = await apeContract.methods.tokenURI(tokenId).call()\r\n      const image = await getImageHash(metadata);\r\n      result.tokenIds.push(tokenId)\r\n      result.metadatas.push(image)\r\n    }\r\n\r\n    var unstaked: StakedInfo = initUnStakedInfo\r\n    unstaked.tokenIds = result.tokenIds.slice()\r\n    unstaked.metadatas = result.metadatas.slice()\r\n    setUnStakedInfo(unstaked)\r\n    setSelectedUnStakedTokenIds([])\r\n    setSelectedStakedTokenIds([])\r\n  }\r\n\r\n  const fetchStakedInfo = async () => {\r\n    var result: StakedInfo = initStakedInfo\r\n    result.tokenIds = []\r\n    result.metadatas = []\r\n\r\n    const balance = await stakingContract.methods.stakingAmount(account).call()\r\n    let a = 0\r\n    for (a = 0; a < balance; a++) {\r\n      const tokenInfo = await stakingContract.methods\r\n        .userInfo(account, a)\r\n        .call()\r\n      const metadata = await apeContract.methods.tokenURI(tokenInfo.tokenId).call()\r\n      const image = await getImageHash(metadata);\r\n      result.tokenIds.push(tokenInfo.tokenId)\r\n      result.metadatas.push(image)\r\n    }\r\n    var staked: StakedInfo = initStakedInfo\r\n    staked.tokenIds = result.tokenIds.slice()\r\n    staked.metadatas = result.metadatas.slice()\r\n    setStakedInfo(staked)\r\n    setSelectedUnStakedTokenIds([])\r\n    setSelectedStakedTokenIds([])\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (fetchFlag && account) {\r\n      fetchIsApprovedForAll()\r\n      fetchUnStakedInfo()\r\n      fetchStakedInfo()\r\n      setFetchFlag(false)\r\n    }\r\n    if (account && stakingContract) {\r\n      fetchReward()\r\n    }\r\n  }, [account, stakingContract, fetchFlag, slowRefresh, fetchIsApprovedForAll, fetchUnStakedInfo, fetchStakedInfo, fetchReward, setFetchFlag])\r\n\r\n  const IsSelected = (type: any, tokenId: any) => {\r\n    var a = 0\r\n    const list = type === 0 ? selectedUnStakedTokenIds : selectedStakedTokenIds\r\n    for (a = 0; a < list.length; a++) {\r\n      if (list[a] === tokenId) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  const removeItemFromArray = (\r\n    oldlist: BigNumber[],\r\n    tokenId: any,\r\n  ): BigNumber[] => {\r\n    var list: BigNumber[] = oldlist\r\n    var i = 0\r\n    for (i = 0; i < list.length; i++) {\r\n      if (list[i] === tokenId) {\r\n        list[i] = list[list.length - 1]\r\n        list.pop()\r\n        break\r\n      }\r\n    }\r\n    return list\r\n  }\r\n\r\n  const unstakedImageClick = async (tokenId: BigNumber, index: any) => {\r\n    console.log('unstakedimageclick')\r\n    if (await IsSelected(0, tokenId)) {\r\n      let newlist: BigNumber[] = await removeItemFromArray(\r\n        selectedUnStakedTokenIds,\r\n        tokenId,\r\n      )\r\n      setSelectedUnStakedTokenIds(newlist)\r\n    } else {\r\n      var newlist1: BigNumber[] = selectedUnStakedTokenIds\r\n      newlist1.push(tokenId)\r\n      setSelectedUnStakedTokenIds(newlist1)\r\n    }\r\n    setRedraw(!redraw)\r\n  }\r\n\r\n  const stakedImageClick = async (tokenId: BigNumber, index: any) => {\r\n    if (await IsSelected(1, tokenId)) {\r\n      const newlist: BigNumber[] = await removeItemFromArray(\r\n        selectedStakedTokenIds,\r\n        tokenId,\r\n      )\r\n      setSelectedStakedTokenIds(newlist)\r\n    } else {\r\n      var newlist1: BigNumber[] = selectedStakedTokenIds\r\n      newlist1.push(tokenId)\r\n      setSelectedStakedTokenIds(newlist1)\r\n    }\r\n    setRedraw(!redraw)\r\n  }\r\n\r\n  const handleStake = async () => {\r\n    if (!isApproved) {\r\n      try {\r\n        setRequestedApproval(true)\r\n        await setApprovalForAll(apeContract, stakingContract, account, true)\r\n        setIsApproved(true)\r\n        setRequestedApproval(false)\r\n      } catch {\r\n        console.log('Approve failed')\r\n        setRequestedApproval(false)\r\n      }\r\n    } else {\r\n      try {\r\n        setRequestedApproval(true)\r\n        await stake(stakingContract, selectedUnStakedTokenIds, account)\r\n        setRequestedApproval(false)\r\n        setFetchFlag(true)\r\n      } catch {\r\n        console.log('Stake failed')\r\n        setRequestedApproval(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleClaim = async () => {\r\n    try {\r\n      setRequestedApproval(true)\r\n      await claim(stakingContract, account)\r\n      setIsApproved(true)\r\n      setRequestedApproval(false)\r\n    } catch {\r\n      console.log('Claim failed')\r\n      setRequestedApproval(false)\r\n    }\r\n  }\r\n\r\n  const handleUnStake = async () => {\r\n    try {\r\n      setRequestedApproval(true)\r\n      await unstake(stakingContract, selectedStakedTokenIds, account)\r\n      setIsApproved(true)\r\n      setRequestedApproval(false)\r\n      setFetchFlag(true)\r\n    } catch {\r\n      console.log('UnStake failed')\r\n      setRequestedApproval(false)\r\n    }\r\n  }\r\n\r\n  async function getImageHash(hashVal: any) {\r\n    try {\r\n      let response = await fetch(hashVal);\r\n      let responseJson = await response.json();\r\n      console.log(responseJson.image);\r\n      return responseJson.image;\r\n     } catch(error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section style={{padding: '0px', marginTop: '0px'}}>\r\n      <div className=\"title\" >HEIR BEAR CLUB</div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' , flexWrap:\"wrap\"}}>\r\n        <div className=\"pad\">\r\n          <div className=\"row text-center\">\r\n            <h3 className=\"em-wide\" style={{fontFamily: 'Montserrat'}}>UNSTAKED</h3>\r\n          </div>\r\n          <div className=\"radiuspanel\" >\r\n            <div  className='scrollprop' >\r\n              <div className=\"card-caption col-12 p-0\">\r\n                <div className=\"row justify-content-center\" style={{ }}>\r\n                  {unstakedinfo &&\r\n                    unstakedinfo.tokenIds &&\r\n                    unstakedinfo.tokenIds.map((tokenId: any, idx: any) => {\r\n                      const image = unstakedinfo.metadatas[idx]\r\n                      const isSelected = IsSelected(0, tokenId)\r\n                      return (\r\n                        <div\r\n                          className=\"col-5 col-md-5 col-lg-5 col-xl-3 item\"\r\n                          style={{\r\n                            marginLeft: 1,\r\n                            marginRight: 1,\r\n                            marginTop: 30                            \r\n                          }}\r\n                          onClick={() => unstakedImageClick(tokenId, idx)}\r\n                        >\r\n                          <img\r\n                            className={isSelected ? 'withBorder' : 'noBorder'}\r\n                            src={image}\r\n                            alt=\"\"\r\n                            style={{ width: '100%' }}\r\n                          />\r\n                          <div style={{ color: 'white', textAlign: 'center' }}>\r\n                            {tokenId}\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"text-center\">\r\n            <p className=\"description\" >\r\n            SELECT HEIR BEARS YOU WOULD  LIKE TO STAKE AND<br/>\r\n            CLICK THE BUTTON BELOW.\r\n            </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"row bottomButton\">\r\n            <button\r\n              className=\"btn mt-4 em-wide\"\r\n              disabled={requestedApproval}\r\n              style={{fontFamily: 'MontserratBold'}}  \r\n              onClick={handleStake}\r\n            >\r\n              {isApproved ? 'STAKE' : 'APPROVE'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='pad'>\r\n          <div className=\"row text-center\">\r\n            <h3 className=\"em-wide\" style={{fontFamily: 'Montserrat'}}>STAKED</h3>\r\n          </div>\r\n          <div\r\n            className=\"radiuspanel\"\r\n            style={{\r\n              flex: 1,\r\n              minHeight: 400,\r\n              width: '100%',\r\n              backgroundColor: 'rgb(188 186 199 / 23%)',\r\n            }}\r\n          >\r\n            <div className='scrollprop' >\r\n              <div className=\"card-caption col-12 p-0\">\r\n                <div className=\"row justify-content-center\" style={{ padding: 10 }}>\r\n                  {stakedinfo &&\r\n                    stakedinfo.tokenIds &&\r\n                    stakedinfo.tokenIds.map((tokenId: any, idx: any) => {\r\n                      const image = stakedinfo.metadatas[idx]\r\n                      const isSelected = IsSelected(1, tokenId)\r\n                      return (\r\n                        <div\r\n                          className=\"col-5 col-md-5 col-lg-5 col-xl-3 item\"\r\n                          style={{\r\n                            marginLeft: 1,\r\n                            marginRight: 1,\r\n                            marginTop: 30                            \r\n                          }}\r\n                          onClick={() => stakedImageClick(tokenId, idx)}\r\n                        >\r\n                          <img\r\n                            className={isSelected ? 'withBorder' : 'noBorder'}\r\n                            src={image}\r\n                            alt=\"\"\r\n                            style={{ width: '100%' }}\r\n                          />\r\n                          <div style={{ color: 'white', textAlign: 'center' }}>\r\n                            {tokenId}\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    })\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"text-center\">\r\n            <p className=\"description\">\r\n            SECLECT HEIR BEARS YOU WOULD  LIKE TO UNSTAKE AND<br/>\r\n            CLICK THE BUTTON BELOW.\r\n            </p>\r\n            </div>        \r\n          </div>\r\n          <div className=\"row bottomButton\" style={{display:\"flex\", justifyContent:\"center\" }}>\r\n            <button\r\n              className=\"btn mt-4 em-wide claimbtn\"\r\n              disabled={requestedApproval}\r\n              onClick={handleClaim}\r\n            >\r\n              {space}CLAIM{space}\r\n            </button>              \r\n            <button\r\n              className=\"btn mt-4 em-wide\"\r\n              disabled={requestedApproval}\r\n              style={{fontFamily: 'MontserratBold'}}  \r\n              onClick={handleUnStake}\r\n            >\r\n              UNSTAKE\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"text-center row col-12\"\r\n        style={{ color: 'white', marginTop: 0 }}\r\n      >\r\n        <h5 className='em-wide' style={{ textAlign: 'center', width: '100%', fontFamily: 'Montserrat'}}  >\r\n          $VARIABLE EARNED<br/>\r\n          {reward.toString()}\r\n        </h5>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Auctions\r\n","import React, { Component } from 'react';\r\nimport Header from '../../components/Header/Header';\r\nimport Auctions from './components/Auctions';\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"main\">\r\n        <Header />\r\n        <Auctions />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import { ChakraProvider } from \"@chakra-ui/react\";\nimport theme from \"./theme\";\nimport \"@fontsource/inter\";\nimport Home from \"./views/Home\"\n\nfunction App() {\n  return (\n    <ChakraProvider theme={theme}>\n      <Home />\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { DAppProvider } from \"@usedapp/core\";\nimport {RefreshContextProvider} from './contexts/RefreshContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <RefreshContextProvider>\n      <DAppProvider config={{}}>\n        <App />\n      </DAppProvider>\n    </RefreshContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}